{"filter":false,"title":"stack.js","tooltip":"/js/stack.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":37,"column":13},"action":"insert","lines":[" <script>","        queue()","            .defer(d3.json, \"../data/transactions.json\")","            .await(makeGraphs);","","        function makeGraphs(error, transactionsData) {","            var ndx = crossfilter(transactionsData);","            var name_dim = ndx.dimension(dc.pluck('name'));","            var spendByNameStoreA = name_dim.group().reduceSum(function(d) {","                if (d.store === 'A') {","                    return +d.spend;","                }","                else {","                    return 0;","                }","            });","            var spendByNameStoreB = name_dim.group().reduceSum(function(d) {","                if (d.store === 'B') {","                    return +d.spend;","                }","                else {","                    return 0;","                }","            });","            var stackedChart = dc.barChart(\"#stacked-chart\");","            stackedChart","                .width(500)","                .height(500)","                .dimension(name_dim)","                .group(spendByNameStoreA, \"Store A\")","                .stack(spendByNameStoreB, \"Store B\")","                .x(d3.scale.ordinal())","                .xUnits(dc.units.ordinal)","                .legend(dc.legend().x(420).y(0).itemHeight(15).gap(5));","            stackedChart.margins().right = 100;","            dc.renderAll();","        }","    </script>"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":26,"column":20},"end":{"row":26,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1574014396121,"hash":"a0cdd028f786f7bc8cc845392bd918566b6dd7dd"}